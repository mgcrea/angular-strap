{"version":3,"sources":["dropdown/dropdown.js"],"names":[],"mappings":"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","file":"dropdown.min.js","sourcesContent":["'use strict';\n\nangular.module('mgcrea.ngStrap.dropdown', ['mgcrea.ngStrap.tooltip'])\n\n  .provider('$dropdown', function() {\n\n    var defaults = this.defaults = {\n      animation: 'am-fade',\n      prefixClass: 'dropdown',\n      prefixEvent: 'dropdown',\n      placement: 'bottom-left',\n      template: 'dropdown/dropdown.tpl.html',\n      trigger: 'click',\n      container: false,\n      keyboard: true,\n      html: false,\n      delay: 0\n    };\n\n    this.$get = function($window, $rootScope, $tooltip, $timeout) {\n\n      var bodyEl = angular.element($window.document.body);\n      var matchesSelector = Element.prototype.matchesSelector || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector;\n\n      function DropdownFactory(element, config) {\n\n        var $dropdown = {};\n\n        // Common vars\n        var options = angular.extend({}, defaults, config);\n        var scope = $dropdown.$scope = options.scope && options.scope.$new() || $rootScope.$new();\n\n        $dropdown = $tooltip(element, options);\n        var parentEl = element.parent();\n\n        // Protected methods\n\n        $dropdown.$onKeyDown = function(evt) {\n          if (!/(38|40)/.test(evt.keyCode)) return;\n          evt.preventDefault();\n          evt.stopPropagation();\n\n          // Retrieve focused index\n          var items = angular.element($dropdown.$element[0].querySelectorAll('li:not(.divider) a'));\n          if(!items.length) return;\n          var index;\n          angular.forEach(items, function(el, i) {\n            if(matchesSelector && matchesSelector.call(el, ':focus')) index = i;\n          });\n\n          // Navigate with keyboard\n          if(evt.keyCode === 38 && index > 0) index--;\n          else if(evt.keyCode === 40 && index < items.length - 1) index++;\n          else if(angular.isUndefined(index)) index = 0;\n          items.eq(index)[0].focus();\n\n        };\n\n        // Overrides\n\n        var show = $dropdown.show;\n        $dropdown.show = function() {\n          show();\n          // use timeout to hookup the events to prevent\n          // event bubbling from being processed imediately.\n          $timeout(function() {\n            options.keyboard && $dropdown.$element.on('keydown', $dropdown.$onKeyDown);\n            bodyEl.on('click', onBodyClick);\n          }, 0, false);\n          parentEl.hasClass('dropdown') && parentEl.addClass('open');\n        };\n\n        var hide = $dropdown.hide;\n        $dropdown.hide = function() {\n          if(!$dropdown.$isShown) return;\n          options.keyboard && $dropdown.$element.off('keydown', $dropdown.$onKeyDown);\n          bodyEl.off('click', onBodyClick);\n          parentEl.hasClass('dropdown') && parentEl.removeClass('open');\n          hide();\n        };\n\n        var destroy = $dropdown.destroy;\n        $dropdown.destroy = function() {\n          bodyEl.off('click', onBodyClick);\n          destroy();\n        };\n\n        // Private functions\n\n        function onBodyClick(evt) {\n          if(evt.target === element[0]) return;\n          return evt.target !== element[0] && $dropdown.hide();\n        }\n\n        return $dropdown;\n\n      }\n\n      return DropdownFactory;\n\n    };\n\n  })\n\n  .directive('bsDropdown', function($window, $sce, $dropdown) {\n\n    return {\n      restrict: 'EAC',\n      scope: true,\n      link: function postLink(scope, element, attr, transclusion) {\n\n        // Directive options\n        var options = {scope: scope};\n        angular.forEach(['placement', 'container', 'delay', 'trigger', 'keyboard', 'html', 'animation', 'template', 'id'], function(key) {\n          if(angular.isDefined(attr[key])) options[key] = attr[key];\n        });\n\n        // Support scope as an object\n        attr.bsDropdown && scope.$watch(attr.bsDropdown, function(newValue, oldValue) {\n          scope.content = newValue;\n        }, true);\n\n        // Visibility binding support\n        attr.bsShow && scope.$watch(attr.bsShow, function(newValue, oldValue) {\n          if(!dropdown || !angular.isDefined(newValue)) return;\n          if(angular.isString(newValue)) newValue = !!newValue.match(/true|,?(dropdown),?/i);\n          newValue === true ? dropdown.show() : dropdown.hide();\n        });\n\n        // Initialize dropdown\n        var dropdown = $dropdown(element, options);\n\n        // Garbage collection\n        scope.$on('$destroy', function() {\n          if (dropdown) dropdown.destroy();\n          options = null;\n          dropdown = null;\n        });\n\n      }\n    };\n\n  });\n"],"sourceRoot":"/source/"}