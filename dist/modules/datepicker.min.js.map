{"version":3,"file":"datepicker.min.js","sources":["datepicker\\datepicker.js"],"names":["angular","module","provider","defaults","this","animation","prefixClass","placement","template","trigger","container","keyboard","html","delay","useNative","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","autoclose","minDate","Infinity","maxDate","startView","minView","startWeek","iconLeft","iconRight","$get","$window","$document","$rootScope","$sce","$locale","dateFilter","datepickerViews","$tooltip","DatepickerFactory","element","controller","config","updateSelected","el","selected","$datepicker","$isSelected","date","focusElement","focus","extend","parentScope","scope","options","$options","$scope","pickerViews","$views","views","viewDate","$mode","$iconLeft","$iconRight","$picker","$select","select","$selectPane","value","$toggleMode","setMode","length","update","isDate","isNaN","getTime","$date","call","$build","updateDisabledDates","dateRanges","disabledDateRanges","i","l","rows","forEach","$setDisabledEl","keep","$dateValue","Date","$setViewValue","copy","$render","hide","year","getFullYear","month","getMonth","getDate","mode","pristine","built","build","$updateSelected","isSelected","disabled","isDisabled","steps","targetDate","UTC","day","getUTCFullYear","getUTCMonth","getUTCDate","$onMouseDown","evt","preventDefault","stopPropagation","isTouch","targetEl","target","nodeName","toLowerCase","parent","triggerHandler","$onKeyDown","test","keyCode","shiftKey","altKey","$apply","onKeyDown","$digest","_init","init","isNative","prop","css","attr","on","_destroy","destroy","off","_show","show","setTimeout","$element","_hide","blur","document","body","navigator","userAgent","lang","id","directive","$parse","$q","$dateParser","isNumeric","n","parseFloat","isFinite","restrict","require","link","normalizeDateRanges","ranges","key","isDefined","bsShow","$watch","newValue","datepicker","isString","match","$observe","today","substr","parseInt","ngModel","disabledDates","disabledRanges","previousValue","dateParser","format","strict","$parsers","unshift","viewValue","$setValidity","parsedDate","parse","isMinValid","isMaxValid","isValid","toISOString","$formatters","push","modelValue","isUndefined","NaN","val","$on","split","arr","size","arrays","splice","mod","m","daySplit","picker","weekDaysMin","DATETIME_FORMATS","SHORTDAY","weekDaysLabels","slice","concat","weekDaysLabelsHtml","trustAsHtml","join","startDate","getTimezoneOffset","force","firstDayOfMonth","firstDayOfMonthOffset","firstDate","getDay","firstDateOffset","days","label","muted","title","showLabels","labels","time","start","end","newDate","actualTime","name","months","lastDate","actualMonth","setMonth","firstYear","years","actualYear","setYear","Array","prototype"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nangular.module('mgcrea.ngStrap.datepicker', ['mgcrea.ngStrap.helpers.dateParser', 'mgcrea.ngStrap.tooltip'])\r\n\r\n  .provider('$datepicker', function() {\r\n\r\n    var defaults = this.defaults = {\r\n      animation: 'am-fade',\r\n      prefixClass: 'datepicker',\r\n      placement: 'bottom-left',\r\n      template: 'datepicker/datepicker.tpl.html',\r\n      trigger: 'focus',\r\n      container: false,\r\n      keyboard: true,\r\n      html: false,\r\n      delay: 0,\r\n      // lang: $locale.id,\r\n      useNative: false,\r\n      dateType: 'date',\r\n      dateFormat: 'shortDate',\r\n      modelDateFormat: null,\r\n      dayFormat: 'dd',\r\n      strictFormat: false,\r\n      autoclose: false,\r\n      minDate: -Infinity,\r\n      maxDate: +Infinity,\r\n      startView: 0,\r\n      minView: 0,\r\n      startWeek: 0,\r\n      iconLeft: 'glyphicon glyphicon-chevron-left',\r\n      iconRight: 'glyphicon glyphicon-chevron-right'\r\n    };\r\n\r\n    this.$get = function($window, $document, $rootScope, $sce, $locale, dateFilter, datepickerViews, $tooltip) {\r\n\r\n      var bodyEl = angular.element($window.document.body);\r\n      var isTouch = 'createTouch' in $window.document;\r\n      var isNative = /(ip(a|o)d|iphone|android)/ig.test($window.navigator.userAgent);\r\n      if(!defaults.lang) defaults.lang = $locale.id;\r\n\r\n      function DatepickerFactory(element, controller, config) {\r\n\r\n        var $datepicker = $tooltip(element, angular.extend({}, defaults, config));\r\n        var parentScope = config.scope;\r\n        var options = $datepicker.$options;\r\n        var scope = $datepicker.$scope;\r\n        if(options.startView) options.startView -= options.minView;\r\n\r\n        // View vars\r\n\r\n        var pickerViews = datepickerViews($datepicker);\r\n        $datepicker.$views = pickerViews.views;\r\n        var viewDate = pickerViews.viewDate;\r\n        scope.$mode = options.startView;\r\n        scope.$iconLeft = options.iconLeft;\r\n        scope.$iconRight = options.iconRight;\r\n        var $picker = $datepicker.$views[scope.$mode];\r\n\r\n        // Scope methods\r\n\r\n        scope.$select = function(date) {\r\n          $datepicker.select(date);\r\n        };\r\n        scope.$selectPane = function(value) {\r\n          $datepicker.$selectPane(value);\r\n        };\r\n        scope.$toggleMode = function() {\r\n          $datepicker.setMode((scope.$mode + 1) % $datepicker.$views.length);\r\n        };\r\n\r\n        // Public methods\r\n\r\n        $datepicker.update = function(date) {\r\n          // console.warn('$datepicker.update() newValue=%o', date);\r\n          if(angular.isDate(date) && !isNaN(date.getTime())) {\r\n            $datepicker.$date = date;\r\n            $picker.update.call($picker, date);\r\n          }\r\n          // Build only if pristine\r\n          $datepicker.$build(true);\r\n        };\r\n\r\n        $datepicker.updateDisabledDates = function(dateRanges) {\r\n          options.disabledDateRanges = dateRanges;\r\n          for(var i = 0, l = scope.rows.length; i < l; i++) {\r\n            angular.forEach(scope.rows[i], $datepicker.$setDisabledEl);\r\n          }\r\n        };\r\n\r\n        $datepicker.select = function(date, keep) {\r\n          // console.warn('$datepicker.select', date, scope.$mode);\r\n          if(!angular.isDate(controller.$dateValue)) controller.$dateValue = new Date(date);\r\n          if(!scope.$mode || keep) {\r\n            controller.$setViewValue(angular.copy(date));\r\n            controller.$render();\r\n            if(options.autoclose && !keep) {\r\n              $datepicker.hide(true);\r\n            }\r\n          } else {\r\n            angular.extend(viewDate, {year: date.getFullYear(), month: date.getMonth(), date: date.getDate()});\r\n            $datepicker.setMode(scope.$mode - 1);\r\n            $datepicker.$build();\r\n          }\r\n        };\r\n\r\n        $datepicker.setMode = function(mode) {\r\n          // console.warn('$datepicker.setMode', mode);\r\n          scope.$mode = mode;\r\n          $picker = $datepicker.$views[scope.$mode];\r\n          $datepicker.$build();\r\n        };\r\n\r\n        // Protected methods\r\n\r\n        $datepicker.$build = function(pristine) {\r\n          // console.warn('$datepicker.$build() viewDate=%o', viewDate);\r\n          if(pristine === true && $picker.built) return;\r\n          if(pristine === false && !$picker.built) return;\r\n          $picker.build.call($picker);\r\n        };\r\n\r\n        $datepicker.$updateSelected = function() {\r\n          for(var i = 0, l = scope.rows.length; i < l; i++) {\r\n            angular.forEach(scope.rows[i], updateSelected);\r\n          }\r\n        };\r\n\r\n        $datepicker.$isSelected = function(date) {\r\n          return $picker.isSelected(date);\r\n        };\r\n\r\n        $datepicker.$setDisabledEl = function(el) {\r\n          el.disabled = $picker.isDisabled(el.date);\r\n        };\r\n\r\n        $datepicker.$selectPane = function(value) {\r\n          var steps = $picker.steps;\r\n          var targetDate = new Date(Date.UTC(viewDate.year + ((steps.year || 0) * value), viewDate.month + ((steps.month || 0) * value), viewDate.date + ((steps.day || 0) * value)));\r\n          angular.extend(viewDate, {year: targetDate.getUTCFullYear(), month: targetDate.getUTCMonth(), date: targetDate.getUTCDate()});\r\n          $datepicker.$build();\r\n        };\r\n\r\n        $datepicker.$onMouseDown = function(evt) {\r\n          // Prevent blur on mousedown on .dropdown-menu\r\n          evt.preventDefault();\r\n          evt.stopPropagation();\r\n          // Emulate click for mobile devices\r\n          if(isTouch) {\r\n            var targetEl = angular.element(evt.target);\r\n            if(targetEl[0].nodeName.toLowerCase() !== 'button') {\r\n              targetEl = targetEl.parent();\r\n            }\r\n            targetEl.triggerHandler('click');\r\n          }\r\n        };\r\n\r\n        $datepicker.$onKeyDown = function(evt) {\r\n          if (!/(38|37|39|40|13)/.test(evt.keyCode) || evt.shiftKey || evt.altKey) return;\r\n          evt.preventDefault();\r\n          evt.stopPropagation();\r\n\r\n          if(evt.keyCode === 13) {\r\n            if(!scope.$mode) {\r\n              return $datepicker.hide(true);\r\n            } else {\r\n              return scope.$apply(function() { $datepicker.setMode(scope.$mode - 1); });\r\n            }\r\n          }\r\n\r\n          // Navigate with keyboard\r\n          $picker.onKeyDown(evt);\r\n          parentScope.$digest();\r\n        };\r\n\r\n        // Private\r\n\r\n        function updateSelected(el) {\r\n          el.selected = $datepicker.$isSelected(el.date);\r\n        }\r\n\r\n        function focusElement() {\r\n          element[0].focus();\r\n        }\r\n\r\n        // Overrides\r\n\r\n        var _init = $datepicker.init;\r\n        $datepicker.init = function() {\r\n          if(isNative && options.useNative) {\r\n            element.prop('type', 'date');\r\n            element.css('-webkit-appearance', 'textfield');\r\n            return;\r\n          } else if(isTouch) {\r\n            element.prop('type', 'text');\r\n            element.attr('readonly', 'true');\r\n            element.on('click', focusElement);\r\n          }\r\n          _init();\r\n        };\r\n\r\n        var _destroy = $datepicker.destroy;\r\n        $datepicker.destroy = function() {\r\n          if(isNative && options.useNative) {\r\n            element.off('click', focusElement);\r\n          }\r\n          _destroy();\r\n        };\r\n\r\n        var _show = $datepicker.show;\r\n        $datepicker.show = function() {\r\n          _show();\r\n          setTimeout(function() {\r\n            $datepicker.$element.on(isTouch ? 'touchstart' : 'mousedown', $datepicker.$onMouseDown);\r\n            if(options.keyboard) {\r\n              element.on('keydown', $datepicker.$onKeyDown);\r\n            }\r\n          });\r\n        };\r\n\r\n        var _hide = $datepicker.hide;\r\n        $datepicker.hide = function(blur) {\r\n          $datepicker.$element.off(isTouch ? 'touchstart' : 'mousedown', $datepicker.$onMouseDown);\r\n          if(options.keyboard) {\r\n            element.off('keydown', $datepicker.$onKeyDown);\r\n          }\r\n          _hide(blur);\r\n        };\r\n\r\n        return $datepicker;\r\n\r\n      }\r\n\r\n      DatepickerFactory.defaults = defaults;\r\n      return DatepickerFactory;\r\n\r\n    };\r\n\r\n  })\r\n\r\n  .directive('bsDatepicker', function($window, $parse, $q, $locale, dateFilter, $datepicker, $dateParser, $timeout) {\r\n\r\n    var defaults = $datepicker.defaults;\r\n    var isNative = /(ip(a|o)d|iphone|android)/ig.test($window.navigator.userAgent);\r\n    var isNumeric = function(n) {\r\n      return !isNaN(parseFloat(n)) && isFinite(n);\r\n    };\r\n\r\n    return {\r\n      restrict: 'EAC',\r\n      require: 'ngModel',\r\n      link: function postLink(scope, element, attr, controller) {\r\n\r\n        // Directive options\r\n        var options = {scope: scope, controller: controller};\r\n        angular.forEach(['placement', 'container', 'delay', 'trigger', 'keyboard', 'html', 'animation', 'template', 'autoclose', 'dateType', 'dateFormat', 'modelDateFormat', 'dayFormat', 'strictFormat', 'startWeek', 'useNative', 'lang', 'startView', 'minView', 'iconLeft', 'iconRight'], function(key) {\r\n          if(angular.isDefined(attr[key])) options[key] = attr[key];\r\n        });\r\n\r\n        // Visibility binding support\r\n        attr.bsShow && scope.$watch(attr.bsShow, function(newValue, oldValue) {\r\n          if(!datepicker || !angular.isDefined(newValue)) return;\r\n          if(angular.isString(newValue)) newValue = newValue.match(',?(datepicker),?');\r\n          newValue === true ? datepicker.show() : datepicker.hide();\r\n        });\r\n\r\n        // Initialize datepicker\r\n        if(isNative && options.useNative) options.dateFormat = 'yyyy-MM-dd';\r\n        var datepicker = $datepicker(element, controller, options);\r\n        options = datepicker.$options;\r\n\r\n        // Observe attributes for changes\r\n        angular.forEach(['minDate', 'maxDate'], function(key) {\r\n          // console.warn('attr.$observe(%s)', key, attr[key]);\r\n          angular.isDefined(attr[key]) && attr.$observe(key, function(newValue) {\r\n            // console.warn('attr.$observe(%s)=%o', key, newValue);\r\n            if(newValue === 'today') {\r\n              var today = new Date();\r\n              datepicker.$options[key] = +new Date(today.getFullYear(), today.getMonth(), today.getDate() + (key === 'maxDate' ? 1 : 0), 0, 0, 0, (key === 'minDate' ? 0 : -1));\r\n            } else if(angular.isString(newValue) && newValue.match(/^\".+\"$/)) { // Support {{ dateObj }}\r\n              datepicker.$options[key] = +new Date(newValue.substr(1, newValue.length - 2));\r\n            } else if(isNumeric(newValue)) {\r\n              datepicker.$options[key] = +new Date(parseInt(newValue, 10));\r\n            } else {\r\n              datepicker.$options[key] = +new Date(newValue);\r\n            }\r\n            // Build only if dirty\r\n            !isNaN(datepicker.$options[key]) && datepicker.$build(false);\r\n          });\r\n        });\r\n\r\n        // Watch model for changes\r\n        scope.$watch(attr.ngModel, function(newValue, oldValue) {\r\n          datepicker.update(controller.$dateValue);\r\n        }, true);\r\n\r\n        // Normalize undefined/null/empty array,\r\n        // so that we don't treat changing from undefined->null as a change.\r\n        function normalizeDateRanges(ranges) {\r\n          if (!ranges || !ranges.length) return null;\r\n          return ranges;\r\n        }\r\n\r\n        if (angular.isDefined(attr.disabledDates)) {\r\n          scope.$watch(attr.disabledDates, function(disabledRanges, previousValue) {\r\n            disabledRanges = normalizeDateRanges(disabledRanges);\r\n            previousValue = normalizeDateRanges(previousValue);\r\n\r\n            if (disabledRanges !== previousValue) {\r\n              datepicker.updateDisabledDates(disabledRanges);\r\n            }\r\n          });\r\n        }\r\n\r\n        var dateParser = $dateParser({format: options.dateFormat, lang: options.lang, strict: options.strictFormat});\r\n\r\n        // viewValue -> $parsers -> modelValue\r\n        controller.$parsers.unshift(function(viewValue) {\r\n          // console.warn('$parser(\"%s\"): viewValue=%o', element.attr('ng-model'), viewValue);\r\n          // Null values should correctly reset the model value & validity\r\n          if(!viewValue) {\r\n            controller.$setValidity('date', true);\r\n            return;\r\n          }\r\n          var parsedDate = dateParser.parse(viewValue, controller.$dateValue);\r\n          if(!parsedDate || isNaN(parsedDate.getTime())) {\r\n            controller.$setValidity('date', false);\r\n            return;\r\n          } else {\r\n            var isMinValid = isNaN(datepicker.$options.minDate) || parsedDate.getTime() >= datepicker.$options.minDate;\r\n            var isMaxValid = isNaN(datepicker.$options.maxDate) || parsedDate.getTime() <= datepicker.$options.maxDate;\r\n            var isValid = isMinValid && isMaxValid;\r\n            controller.$setValidity('date', isValid);\r\n            controller.$setValidity('min', isMinValid);\r\n            controller.$setValidity('max', isMaxValid);\r\n            // Only update the model when we have a valid date\r\n            if(isValid) controller.$dateValue = parsedDate;\r\n          }\r\n          if(options.dateType === 'string') {\r\n            return dateFilter(parsedDate, options.modelDateFormat || options.dateFormat);\r\n          } else if(options.dateType === 'number') {\r\n            return controller.$dateValue.getTime();\r\n          } else if(options.dateType === 'iso') {\r\n            return controller.$dateValue.toISOString();\r\n          } else {\r\n            return new Date(controller.$dateValue);\r\n          }\r\n        });\r\n\r\n        // modelValue -> $formatters -> viewValue\r\n        controller.$formatters.push(function(modelValue) {\r\n          // console.warn('$formatter(\"%s\"): modelValue=%o (%o)', element.attr('ng-model'), modelValue, typeof modelValue);\r\n          var date;\r\n          if(angular.isUndefined(modelValue) || modelValue === null) {\r\n            date = NaN;\r\n          } else if(angular.isDate(modelValue)) {\r\n            date = modelValue;\r\n          } else if(options.dateType === 'string') {\r\n            date = dateParser.parse(modelValue, null, options.modelDateFormat);\r\n          } else {\r\n            date = new Date(modelValue);\r\n          }\r\n          // Setup default value?\r\n          // if(isNaN(date.getTime())) {\r\n          //   var today = new Date();\r\n          //   date = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0, 0);\r\n          // }\r\n          controller.$dateValue = date;\r\n          return controller.$dateValue;\r\n        });\r\n\r\n        // viewValue -> element\r\n        controller.$render = function() {\r\n          // console.warn('$render(\"%s\"): viewValue=%o', element.attr('ng-model'), controller.$viewValue);\r\n          element.val(!controller.$dateValue || isNaN(controller.$dateValue.getTime()) ? '' : dateFilter(controller.$dateValue, options.dateFormat));\r\n        };\r\n\r\n        // Garbage collection\r\n        scope.$on('$destroy', function() {\r\n          if (datepicker) {\r\n            datepicker.destroy();\r\n          }\r\n          options = null;\r\n          datepicker = null;\r\n        });\r\n\r\n      }\r\n    };\r\n\r\n  })\r\n\r\n  .provider('datepickerViews', function() {\r\n\r\n    var defaults = this.defaults = {\r\n      dayFormat: 'dd',\r\n      daySplit: 7\r\n    };\r\n\r\n    // Split array into smaller arrays\r\n    function split(arr, size) {\r\n      var arrays = [];\r\n      while(arr.length > 0) {\r\n        arrays.push(arr.splice(0, size));\r\n      }\r\n      return arrays;\r\n    }\r\n\r\n    // Modulus operator\r\n    function mod(n, m) {\r\n      return ((n % m) + m) % m;\r\n    }\r\n\r\n    this.$get = function($locale, $sce, dateFilter) {\r\n\r\n      return function(picker) {\r\n\r\n        var scope = picker.$scope;\r\n        var options = picker.$options;\r\n\r\n        var weekDaysMin = $locale.DATETIME_FORMATS.SHORTDAY;\r\n        var weekDaysLabels = weekDaysMin.slice(options.startWeek).concat(weekDaysMin.slice(0, options.startWeek));\r\n        var weekDaysLabelsHtml = $sce.trustAsHtml('<th class=\"dow text-center\">' + weekDaysLabels.join('</th><th class=\"dow text-center\">') + '</th>');\r\n\r\n        var startDate = picker.$date || new Date();\r\n        var viewDate = {year: startDate.getFullYear(), month: startDate.getMonth(), date: startDate.getDate()};\r\n        var timezoneOffset = startDate.getTimezoneOffset() * 6e4;\r\n\r\n        var views = [{\r\n            format: options.dayFormat,\r\n            split: 7,\r\n            steps: { month: 1 },\r\n            update: function(date, force) {\r\n              if(!this.built || force || date.getFullYear() !== viewDate.year || date.getMonth() !== viewDate.month) {\r\n                angular.extend(viewDate, {year: picker.$date.getFullYear(), month: picker.$date.getMonth(), date: picker.$date.getDate()});\r\n                picker.$build();\r\n              } else if(date.getDate() !== viewDate.date) {\r\n                viewDate.date = picker.$date.getDate();\r\n                picker.$updateSelected();\r\n              }\r\n            },\r\n            build: function() {\r\n              var firstDayOfMonth = new Date(viewDate.year, viewDate.month, 1), firstDayOfMonthOffset = firstDayOfMonth.getTimezoneOffset();\r\n              var firstDate = new Date(+firstDayOfMonth - mod(firstDayOfMonth.getDay() - options.startWeek, 7) * 864e5), firstDateOffset = firstDate.getTimezoneOffset();\r\n              // Handle daylight time switch\r\n              if(firstDateOffset !== firstDayOfMonthOffset) firstDate = new Date(+firstDate + (firstDateOffset - firstDayOfMonthOffset) * 60e3);\r\n              var days = [], day;\r\n              for(var i = 0; i < 42; i++) { // < 7 * 6\r\n                day = new Date(firstDate.getFullYear(), firstDate.getMonth(), firstDate.getDate() + i);\r\n                days.push({date: day, label: dateFilter(day, this.format), selected: picker.$date && this.isSelected(day), muted: day.getMonth() !== viewDate.month, disabled: this.isDisabled(day)});\r\n              }\r\n              scope.title = dateFilter(firstDayOfMonth, 'MMMM yyyy');\r\n              scope.showLabels = true;\r\n              scope.labels = weekDaysLabelsHtml;\r\n              scope.rows = split(days, this.split);\r\n              this.built = true;\r\n            },\r\n            isSelected: function(date) {\r\n              return picker.$date && date.getFullYear() === picker.$date.getFullYear() && date.getMonth() === picker.$date.getMonth() && date.getDate() === picker.$date.getDate();\r\n            },\r\n            isDisabled: function(date) {\r\n              var time = date.getTime();\r\n\r\n              // Disabled because of min/max date.\r\n              if (time < options.minDate || time > options.maxDate) return true;\r\n\r\n              // Disabled because of disabled date range.\r\n              if (options.disabledDateRanges) {\r\n                for (var i = 0; i < options.disabledDateRanges.length; i++) {\r\n                  if (time >= options.disabledDateRanges[i].start) {\r\n                    if (time <= options.disabledDateRanges[i].end) return true;\r\n\r\n                    // The disabledDateRanges is expected to be sorted, so if time >= start,\r\n                    // we know it's not disabled.\r\n                    return false;\r\n                  }\r\n                }\r\n              }\r\n\r\n              return false;\r\n            },\r\n            onKeyDown: function(evt) {\r\n              var actualTime = picker.$date.getTime();\r\n              var newDate;\r\n\r\n              if(evt.keyCode === 37) newDate = new Date(actualTime - 1 * 864e5);\r\n              else if(evt.keyCode === 38) newDate = new Date(actualTime - 7 * 864e5);\r\n              else if(evt.keyCode === 39) newDate = new Date(actualTime + 1 * 864e5);\r\n              else if(evt.keyCode === 40) newDate = new Date(actualTime + 7 * 864e5);\r\n\r\n              if (!this.isDisabled(newDate)) picker.select(newDate, true);\r\n            }\r\n          }, {\r\n            name: 'month',\r\n            format: 'MMM',\r\n            split: 4,\r\n            steps: { year: 1 },\r\n            update: function(date, force) {\r\n              if(!this.built || date.getFullYear() !== viewDate.year) {\r\n                angular.extend(viewDate, {year: picker.$date.getFullYear(), month: picker.$date.getMonth(), date: picker.$date.getDate()});\r\n                picker.$build();\r\n              } else if(date.getMonth() !== viewDate.month) {\r\n                angular.extend(viewDate, {month: picker.$date.getMonth(), date: picker.$date.getDate()});\r\n                picker.$updateSelected();\r\n              }\r\n            },\r\n            build: function() {\r\n              var firstMonth = new Date(viewDate.year, 0, 1);\r\n              var months = [], month;\r\n              for (var i = 0; i < 12; i++) {\r\n                month = new Date(viewDate.year, i, 1);\r\n                months.push({date: month, label: dateFilter(month, this.format), selected: picker.$isSelected(month), disabled: this.isDisabled(month)});\r\n              }\r\n              scope.title = dateFilter(month, 'yyyy');\r\n              scope.showLabels = false;\r\n              scope.rows = split(months, this.split);\r\n              this.built = true;\r\n            },\r\n            isSelected: function(date) {\r\n              return picker.$date && date.getFullYear() === picker.$date.getFullYear() && date.getMonth() === picker.$date.getMonth();\r\n            },\r\n            isDisabled: function(date) {\r\n              var lastDate = +new Date(date.getFullYear(), date.getMonth() + 1, 0);\r\n              return lastDate < options.minDate || date.getTime() > options.maxDate;\r\n            },\r\n            onKeyDown: function(evt) {\r\n              var actualMonth = picker.$date.getMonth();\r\n              var newDate = new Date(picker.$date);\r\n\r\n              if(evt.keyCode === 37) newDate.setMonth(actualMonth - 1);\r\n              else if(evt.keyCode === 38) newDate.setMonth(actualMonth - 4);\r\n              else if(evt.keyCode === 39) newDate.setMonth(actualMonth + 1);\r\n              else if(evt.keyCode === 40) newDate.setMonth(actualMonth + 4);\r\n\r\n              if (!this.isDisabled(newDate)) picker.select(newDate, true);\r\n            }\r\n          }, {\r\n            name: 'year',\r\n            format: 'yyyy',\r\n            split: 4,\r\n            steps: { year: 12 },\r\n            update: function(date, force) {\r\n              if(!this.built || force || parseInt(date.getFullYear()/20, 10) !== parseInt(viewDate.year/20, 10)) {\r\n                angular.extend(viewDate, {year: picker.$date.getFullYear(), month: picker.$date.getMonth(), date: picker.$date.getDate()});\r\n                picker.$build();\r\n              } else if(date.getFullYear() !== viewDate.year) {\r\n                angular.extend(viewDate, {year: picker.$date.getFullYear(), month: picker.$date.getMonth(), date: picker.$date.getDate()});\r\n                picker.$updateSelected();\r\n              }\r\n            },\r\n            build: function() {\r\n              var firstYear = viewDate.year - viewDate.year % (this.split * 3);\r\n              var years = [], year;\r\n              for (var i = 0; i < 12; i++) {\r\n                year = new Date(firstYear + i, 0, 1);\r\n                years.push({date: year, label: dateFilter(year, this.format), selected: picker.$isSelected(year), disabled: this.isDisabled(year)});\r\n              }\r\n              scope.title = years[0].label + '-' + years[years.length - 1].label;\r\n              scope.showLabels = false;\r\n              scope.rows = split(years, this.split);\r\n              this.built = true;\r\n            },\r\n            isSelected: function(date) {\r\n              return picker.$date && date.getFullYear() === picker.$date.getFullYear();\r\n            },\r\n            isDisabled: function(date) {\r\n              var lastDate = +new Date(date.getFullYear() + 1, 0, 0);\r\n              return lastDate < options.minDate || date.getTime() > options.maxDate;\r\n            },\r\n            onKeyDown: function(evt) {\r\n              var actualYear = picker.$date.getFullYear(),\r\n                  newDate = new Date(picker.$date);\r\n\r\n              if(evt.keyCode === 37) newDate.setYear(actualYear - 1);\r\n              else if(evt.keyCode === 38) newDate.setYear(actualYear - 4);\r\n              else if(evt.keyCode === 39) newDate.setYear(actualYear + 1);\r\n              else if(evt.keyCode === 40) newDate.setYear(actualYear + 4);\r\n\r\n              if (!this.isDisabled(newDate)) picker.select(newDate, true);\r\n            }\r\n          }];\r\n\r\n        return {\r\n          views: options.minView ? Array.prototype.slice.call(views, options.minView) : views,\r\n          viewDate: viewDate\r\n        };\r\n\r\n      };\r\n\r\n    };\r\n\r\n  });\r\n"],"sourceRoot":"/source/"}