/**
 * angular-strap
 * @version v2.0.0-beta.4 - 2014-01-20
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).run(["$templateCache","$modal",function(a){var b='<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-show="content" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>';a.put("$modal",b)}]).provider("$modal",function(){var a=this.defaults={animation:"animation-fade",prefixClass:"modal",placement:"top",template:"$modal",container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","dimensions",function(b,c,d,e,f,g,h){function i(b){function i(a){a.target===a.currentTarget&&("static"===q.backdrop?p.focus():p.hide())}var p={},q=angular.extend({},a,b);p.$promise=e.when(f.get(q.template)||g.get(q.template));var r=p.$scope=q.scope&&q.scope.$new()||c.$new();q.element||q.container||(q.container="body"),q.scope||j(["title","content"],function(a){q[a]&&(r[a]=q[a])}),r.$hide=function(){r.$$postDigest(function(){p.hide()})},r.$show=function(){r.$$postDigest(function(){p.show()})},r.$toggle=function(){r.$$postDigest(function(){p.toggle()})};var s,t,u=k('<div class="'+q.prefixClass+'-backdrop"/>');return p.$promise.then(function(a){angular.isObject(a)&&(a=a.data),q.html&&(a=a.replace(n,'ng-bind-html="')),a=l.apply(a),s=d(a),p.init()}),p.init=function(){q.show&&r.$$postDigest(function(){"focus"===q.trigger?element[0].focus():p.show()})},p.destroy=function(){t&&(t.remove(),t=null),u&&(u.remove(),u=null),r.$destroy()},p.show=function(){var a=q.container?o(q.container):null,b=q.container?null:q.element;t=p.$element=s(r,function(){}),t.css({display:"block"}).addClass(q.placement),q.animation&&(q.backdrop&&u.addClass("animation-fade"),t.addClass(q.animation)),q.backdrop&&h.enter(u,m,null,function(){}),h.enter(t,a,b,function(){}),r.$isShown=!0,r.$$phase||r.$digest(),p.focus(),m.addClass(q.prefixClass+"-open"),q.backdrop&&(t.on("click",i),u.on("click",i)),q.keyboard&&t.on("keyup",p.$onKeyUp)},p.hide=function(){h.leave(t,function(){m.removeClass(q.prefixClass+"-open")}),q.backdrop&&h.leave(u,function(){}),r.$$phase||r.$digest(),r.$isShown=!1,q.backdrop&&(t.off("click",i),u.off("click",i)),q.keyboard&&t.off("keyup",p.$onKeyUp)},p.toggle=function(){r.$isShown?p.hide():p.show()},p.focus=function(){t[0].focus()},p.$onKeyUp=function(a){27===a.which&&p.hide()},p}var j=angular.forEach,k=angular.element,l=String.prototype.trim,m=k(b.document.body),n=/ng-bind="/gi,o=function(a,b){return k((b||document).querySelectorAll(a))};return i}]}).directive("bsModal",["$window","$location","$sce","$modal",function(a,b,c,d){return{restrict:"EAC",scope:!0,link:function(a,b,c){var e={scope:a,element:b,show:!1};angular.forEach(["template","placement","backdrop","keyboard","html","container","animation"],function(a){angular.isDefined(c[a])&&(e[a]=c[a])}),angular.forEach(["title","content"],function(b){c[b]&&c.$observe(b,function(c){a[b]=c})}),c.bsModal&&a.$watch(c.bsModal,function(b){angular.isObject(b)?angular.extend(a,b):a.content=b},!0);var f=d(e);b.on(c.trigger||"click",f.toggle),a.$on("$destroy",function(){f.destroy(),e=null,f=null})}}}]);
//# sourceMappingURL=angular-strap.min.map